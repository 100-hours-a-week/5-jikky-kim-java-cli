## ì£¼ì œ

ê°„ë‹¨í•œ POS ì‹œìŠ¤í…œì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

- ì‚¬ìš©ìëŠ” ê´€ë¦¬ìì™€ ê³ ê°ìœ¼ë¡œ ë‚˜ë‰˜ì–´ì ¸ ìˆìœ¼ë©°, ê° ì—­í• ì— ë§ëŠ” ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´, ì—­í• ì— ë§ëŠ” ë©”ë‰´ê°€ í‘œì‹œë©ë‹ˆë‹¤.
- ì‚¬ìš©ìì˜ ê²½ìš° ì¬ê³ ë¥¼ ë³´ê³  ì¥ë°”êµ¬ë‹ˆì— ë‹´ì•„ êµ¬ë§¤ í•  ìˆ˜ ìˆìœ¼ë©°, ê´€ë¦¬ìì˜ ê²½ìš°ì—ëŠ” ì¬ê³ ë¥¼ ì¶”ê°€ í˜¹ì€ ì‚­ì œ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ë©”ë‰´ì— ì¶”ê°€ ë©ë‹ˆë‹¤.

- í…ŒìŠ¤íŠ¸ ê³„ì •
     - ADMIN ID & PASSWORD : admin
     - CUSTOMER ID & PASSWORD : CUSTOMER

## ê¸°ëŠ¥

### ì‚¬ìš©ì ê¸°ëŠ¥

- **ë¡œê·¸ì¸**: ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ì‹œìŠ¤í…œì— ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë©”ë‰´ ë³´ê¸°**: ë¡œê·¸ì¸ í›„ ì‚¬ìš©ìëŠ” ë©”ë‰´ì—ì„œ ë‹¤ì–‘í•œ ì˜µì…˜ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - **ë©”ë‰´**
        - View Inventory
        - Add item to Cart
        - View Cart
        - Checkout
        - ManageInventory ( ê´€ë¦¬ì )
        - Exit

### ê³ ê° ê¸°ëŠ¥

- **ì¬ê³  ë³´ê¸°**: í˜„ì¬ ì¬ê³  ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì¥ë°”êµ¬ë‹ˆì— í•­ëª© ì¶”ê°€**: ì¬ê³ ì—ì„œ í•­ëª©ì„ ì„ íƒí•´ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ì¥ë°”êµ¬ë‹ˆ ë³´ê¸°**: í˜„ì¬ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸´ í’ˆëª©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ê²°ì œ**: ì¥ë°”êµ¬ë‹ˆì˜ í•­ëª©ì„ ê²°ì œí•˜ê³  ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ì›ë‹ˆë‹¤.

### ê´€ë¦¬ì ê¸°ëŠ¥

- **ì¬ê³  ì¶”ê°€**: ìƒˆë¡œìš´ í•­ëª©ì„ ì¬ê³ ì— ì¶”ê°€í•©ë‹ˆë‹¤.
- **ì¬ê³  ì œê±°**: ê¸°ì¡´ í•­ëª©ì„ ì¬ê³ ì—ì„œ ì œê±°í•©ë‹ˆë‹¤.

## í´ë˜ìŠ¤ ì„¤ê³„ë„

### ì „ì²´
![í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨](https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/b96540d2-673d-4e58-9da9-b51400f7ccde)

---

### Main & Pos

- Main í´ë˜ìŠ¤ëŠ” Pos ê°ì²´ë¥¼ ìƒì„±í•˜ê³  í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰
- Main í´ë˜ìŠ¤ëŠ” í”„ë¡œê·¸ë¨ ì‹œì‘ì ìœ¼ë¡œ, ë‹¤ë¥¸ í´ë˜ìŠ¤ ë° ì„œë¹„ìŠ¤ì˜ ì„¤ì •ê³¼ ì´ˆê¸°í™”ë¥¼ ë‹´ë‹¹í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤.

- Pos í´ë˜ìŠ¤ëŠ”  **`InventoryService`**, **`CartService`**, **`UserManager`**, **`InputService`** ì‚¬ìš©
- í”„ë¡œê·¸ë¨ì˜ ì£¼ìš” ê¸°ëŠ¥ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤.

![image](https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/cee289fa-7ffc-4b35-a3fd-75ab21c55693)

---

### ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ í´ë˜ìŠ¤ 

<aside>
ğŸ’¡ í´ë˜ìŠ¤ê°€ ë³µì¡í•˜ì§€ì•Šì€ë°, ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„í´ë˜ìŠ¤ë¥¼ êµ¬ë¶„í•œ ì´ìœ 

</aside>

ì›ë˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„í´ë˜ìŠ¤ë¥¼ êµ¬ë¶„í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

SOLIDë¥¼ ì•Œê²Œë˜ê³ , ê¸°ì¡´ ì½”ë“œì˜ Posí´ë˜ìŠ¤ê°€ InventoryService, CartService,UserManager í´ë˜ìŠ¤ì˜ êµ¬ì²´ì ì¸ êµ¬í˜„ì— ì˜ì¡´í•˜ê³  ìˆì–´ì„œ DIPë¥¼ ì¤€ìˆ˜í•˜ì§€ ì•Šê³  ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ, DIPë¥¼ ì¤€ìˆ˜í•˜ê¸° ìœ„í•´ Posí´ë˜ìŠ¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ë“¤ì„ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¶”ìƒí™”í•˜ê³  êµ¬ì²´ì ì¸ êµ¬í˜„ì€ ìƒì„±ì ì£¼ì…ì„ í†µí•´ ì£¼ì…ë°›ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

|![image](https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/2ee12213-455e-4d42-8482-cc6b15a69417)|![image](https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/ba71db32-27e0-4955-aaf5-8d3f317287cb)|
|:---|:---|
|![image](https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/4cd37d75-3e10-407b-bd27-3ca485f3c3e5)|![image](https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/1a2cf873-be5c-48b6-b418-1cef6a0c0dd6)|


### Clothes

![image](https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/183438e3-1a70-491a-82ec-2de1e25df2b3)

ì˜ë¥˜ í•­ëª©ì„ ê³µí†µ ê¸°ëŠ¥ê³¼ ì†ì„±ì„ ê°€ì§„ ìƒìœ„ í´ë˜ìŠ¤ì™€, êµ¬ì²´ì ì¸ íŠ¹ì„±ì„ ê°€ì§„ í•˜ìœ„ í´ë˜ìŠ¤ë¡œ ë¶„ë¦¬í•´ì„œ ìœ ì—°ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ ë†’ì…ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ LSPì™€ OCPë¥¼ ì¤€ìˆ˜í•©ë‹ˆë‹¤.

- ìŠˆí¼ í´ë˜ìŠ¤ : Clothes , ëª¨ë“  ì˜ë¥˜ í•­ëª©ì˜ ê³µí†µ ì†ì„±ê³¼ ë©”ì„œë“œë¥¼ ì •ì˜
    - ì„œë¸Œ í´ë˜ìŠ¤
        - ChildrenClothes  : ì–´ë¦°ì´ìš© ì˜ë¥˜, **`Clothes`** í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ í• ì¸ìœ¨ ì†ì„±ì„ ì¶”ê°€
        - AdultClothes  : ì„±ì¸ìš© ì˜ë¥˜
- ìŠˆí¼ í´ë˜ìŠ¤ : AdultClothes
    - ì„œë¸Œ í´ë˜ìŠ¤
        - ManClothes  : ë‚¨ì„±ìš© ì˜ë¥˜
        - WomanClothes  : ì—¬ì„±ìš© ì˜ë¥˜

---

### User

![image](https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/0e743ec7-9eee-4a64-9c1a-ea4cb07f22a5)


- ìŠˆí¼ í´ë˜ìŠ¤ : User
    - ì„œë¸Œ í´ë˜ìŠ¤
        - Customer : ì¼ë°˜ ê³ ê°
        - Admin : ê´€ë¦¬ì

---


## í´ë” êµ¬ì¡°

```java
â””â”€â”€ src.main.java.com.clothes
     â”œâ”€â”€ Main.java
     â”œâ”€â”€ pos
     â”‚     â””â”€â”€ Pos.java
     â”œâ”€â”€ services
     â”‚     â”œâ”€â”€ CartService.java
     â”‚     â”œâ”€â”€ CartServiceImpl.java
     â”‚     â”œâ”€â”€ InputService.java
     â”‚     â”œâ”€â”€ InputServiceImpl.java
     â”‚     â”œâ”€â”€ UserService.java
     â”‚     â””â”€â”€ UserServiceImpl.java
     â”œâ”€â”€ managers
     â”‚     â”œâ”€â”€ CartManager.java
     â”‚     â”œâ”€â”€ InventoryManger.java
     â”‚     â””â”€â”€ UserManager.java
     â”œâ”€â”€ utils
     â”‚     â”œâ”€â”€ InputService.java
     â”‚     â”œâ”€â”€ InputServiceImpl.java
     â”‚     â””â”€â”€ Constants.java
     â”œâ”€â”€ user
     â”‚     â”œâ”€â”€ User.java
     â”‚     â”œâ”€â”€ Customer.java
     â”‚     â””â”€â”€ Admin.java
     â””â”€â”€ clothes
           â”œâ”€â”€ Clothes.java
           â”œâ”€â”€ Children.java
           â”œâ”€â”€ Adult.java
           â”œâ”€â”€ Man.java
           â””â”€â”€ Woman.java
```

## í´ë” ë° íŒŒì¼ ì„¤ëª…
**com/shop/**

- **Main.java**: í”„ë¡œê·¸ë¨ ì§„ì…ì 

**com/shop/pos/**

- **Pos.java**: ì£¼ìš” ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œì§ì„ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤. ì—¬ëŸ¬ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì™€ ìƒí˜¸ì‘ìš©

**com/shop/services/**

- **CartService.java**: ì¥ë°”êµ¬ë‹ˆ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤
- **CartServiceImpl.java**: ì¥ë°”êµ¬ë‹ˆ ì„œë¹„ìŠ¤ êµ¬í˜„ í´ë˜ìŠ¤
- **InventoryService.java**: ì¬ê³  ê´€ë¦¬ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´
- **InventoryServiceImpl.java**: ì¬ê³  ê´€ë¦¬ ì„œë¹„ìŠ¤ êµ¬í˜„ í´ë˜ìŠ¤
- **UserService.java**: ì‚¬ìš©ì ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤
- **UserServiceImpl.java**: ì‚¬ìš©ì ì„œë¹„ìŠ¤ êµ¬í˜„ í´ë˜ìŠ¤

**com/shop/managers/**

- **CartManager.java**: ì¥ë°”êµ¬ë‹ˆ ë°ì´í„° ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤
- **InventoryManager.java**: ì¬ê³  ë°ì´í„° ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤
- **UserManager.java**: ì‚¬ìš©ì ë°ì´í„° ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤

**com/shop/user/**

- **Admin.java**: ê´€ë¦¬ì ì‚¬ìš©ì í´ë˜ìŠ¤, **`User`**ë¥¼ ìƒì†
- **Customer.java**: ê³ ê° ì‚¬ìš©ì í´ë˜ìŠ¤, **`User`**ë¥¼ ìƒì†
- **User.java**: ê¸°ë³¸ ì‚¬ìš©ì í´ë˜ìŠ¤

**com/shop/clothes/**

- **Children.java**: ì–´ë¦°ì´ìš© ì˜ë¥˜ í´ë˜ìŠ¤, **`Clothes`**ë¥¼ ìƒì†
- **Clothes.java**: ì˜ë¥˜ì˜ ê¸°ë³¸ í´ë˜ìŠ¤
- **Man.java**: ë‚¨ì„±ìš© ì˜ë¥˜ í´ë˜ìŠ¤, **`Clothes`**ë¥¼ ìƒì†
- **Woman.java**: ì—¬ì„±ìš© ì˜ë¥˜ í´ë˜ìŠ¤, **`Clothes`**ë¥¼ ìƒì†

**com/shop/utils/**

- **Constants.java**: ìƒìˆ˜ ê°’ì„ ì •ì˜í•˜ëŠ” í´ë˜ìŠ¤
- **InputService.java**: ì…ë ¥ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤
- **ScannerInputService.java**: **`InputService`**ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤, **`Scanner`**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ì„ ì²˜ë¦¬

---

## **í”„ë¡œê·¸ë¨ ì‹¤í–‰ íë¦„**

### **1. í”„ë¡œê·¸ë¨ ì‹œì‘ (Main í´ë˜ìŠ¤)**

- **`Main`** í´ë˜ìŠ¤ì˜ **`main`** ë©”ì„œë“œê°€ ì‹¤í–‰
- **`Constants.printKcsShopArt()`**ë¥¼ í˜¸ì¶œí•˜ì—¬ ì•„ìŠ¤í‚¤ì•„íŠ¸ë¥¼ ì¶œë ¥
- **`InputService`** ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ **`InputServiceImpl`** ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- **`InventoryManager`**, **`CartManager`**, **`UserManager`** ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
- **`InventoryService`**, **`CartService`**, **`UserService`** ì¸í„°í˜ì´ìŠ¤ì˜ êµ¬í˜„ì²´(**`InventoryServiceImpl`**, **`CartServiceImpl`**, **`UserServiceImpl`**)ë¥¼ ìƒì„±í•˜ê³  ê° ë§¤ë‹ˆì € ê°ì²´ë¥¼ ì£¼ì…
- **`Pos`** ê°ì²´ë¥¼ ìƒì„±í•˜ê³  í•„ìš”í•œ ì„œë¹„ìŠ¤ ê°ì²´ë“¤ì„ ì£¼ì…

```java
public class Main {
    public static void main(String[] args) {
        Constants.printKcsShopArt();
        
        InputService inputService = new InputServiceImpl();
        InventoryManager inventoryManager = new InventoryManager();
        CartManager cartManager = new CartManager();
        UserManager userManager = new UserManager();

        InventoryService inventoryService = new InventoryServiceImpl(inventoryManager);
        CartService cartService = new CartServiceImpl(cartManager, inventoryManager);
        UserService userService = new UserServiceImpl(userManager);
        
        Pos pos = new Pos(inputService, inventoryService, cartService, userService);

        User user;
        do {
            user = pos.login();
        } while (user == null);
        pos.showMenu(user);

        ((InputServiceImpl) inputService).close();
    }
}
```

### **2. ë¡œê·¸ì¸ ì ˆì°¨ (Pos í´ë˜ìŠ¤)**

- **`Pos`** í´ë˜ìŠ¤ì˜ `**login**` ë©”ì„œë“œê°€ í˜¸ì¶œ
- ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥ë°›ê¸° ìœ„í•´ **`inputService.getInput()`**ì„ í˜¸ì¶œ
- **`userService.login`** ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ì…ë ¥ë°›ì€ ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê²€ì¦
- ê²€ì¦ì— ì„±ê³µí•˜ë©´ **`User`** ê°ì²´ë¥¼ ë°˜í™˜í•˜ê³ , ì‹¤íŒ¨í•˜ë©´ ë¡œê·¸ì¸ ì‹¤íŒ¨ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  ë‹¤ì‹œ ë¡œê·¸ì¸ ì‹œë„

```java
public class Pos {
    private final InventoryService inventoryService;
    private final CartService cartService;
    private final UserService userService;
    private final InputService inputService;

    public Pos(InputService inputService, InventoryService inventoryService, CartService cartService, UserService userService) {
        this.inventoryService = inventoryService;
        this.cartService = cartService;
        this.userService = userService;
        this.inputService = inputService;
    }

    public User login() {
        System.out.print(Constants.ENTER_USERNAME);
        String username = inputService.getInput();
        System.out.print(Constants.ENTER_PASSWORD);
        String password = inputService.getInput();
        return userService.login(username, password);
    }

    public void showMenu(User user) {
        while (true) {
            System.out.println(Constants.WELCOME_MESSAGE);
            System.out.println(Constants.DEVIDE_LINE);
            System.out.println(Constants.MAIN_MENU_OPTIONS);
            if (user instanceof Admin) {
                System.out.println(Constants.ADMIN_MENU_OPTIONS);
            } else {
                System.out.println(Constants.CUSTOMER_MENU_OPTIONS);
            }
            System.out.println(Constants.DEVIDE_LINE);
            System.out.print(Constants.SELECT_OPTION);
            int choice = inputService.getIntInput();

            switch (choice) {
                case 1:
                    inventoryService.displayInventory();
                    break;
                case 2:
                    cartService.addItemToCart(inputService);
                    break;
                case 3:
                    cartService.viewCart();
                    break;
                case 4:
                    cartService.checkout();
                    break;
                case 5:
                    if (user instanceof Admin) {
                        ((Admin) user).manageInventory(inputService, inventoryService);
                    } else {
                        System.out.println(Constants.EXIT_MESSAGE);
                        return;
                    }
                    break;
                case 6:
                    System.out.println(Constants.EXIT_MESSAGE);
                    return;
                default:
                    System.out.println(Constants.INVALID_CHOICE);
            }
        }
    }
}

```

### **3. ë©”ë‰´ í‘œì‹œ ë° ì„ íƒ (Pos í´ë˜ìŠ¤)**

- ë¡œê·¸ì¸ ì„±ê³µ í›„, **`showMenu`** ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì–´ ì‚¬ìš©ìì—ê²Œ ë©”ë‰´ë¥¼ í‘œì‹œ
- ì‚¬ìš©ìëŠ” ë©”ë‰´ì—ì„œ ì›í•˜ëŠ” ì˜µì…˜ì„ ì„ íƒ
- ì„ íƒëœ ì˜µì…˜ì— ë”°ë¼ ì ì ˆí•œ ë©”ì„œë“œê°€ í˜¸ì¶œ
    - **1: ì¬ê³  ë³´ê¸°** (**`InventoryService.displayInventory`**)
        - í˜„ì¬ ì¬ê³  ëª©ë¡ì„ ì¶œë ¥
    - **2: ì¥ë°”êµ¬ë‹ˆì— í•­ëª© ì¶”ê°€** (**`CartService.addItemToCart`**)
        - ì‚¬ìš©ìë¡œë¶€í„° ì¶”ê°€í•  í•­ëª© ë²ˆí˜¸ë¥¼ ì…ë ¥ë°›ì•„ ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€
    - **3: ì¥ë°”êµ¬ë‹ˆ ë³´ê¸°** (**`CartService.viewCart`**)
        - í˜„ì¬ ì¥ë°”êµ¬ë‹ˆì— ìˆëŠ” í•­ëª©ë“¤ì„ ì¶œë ¥
    - **4: ê²°ì œ** (**`CartService.checkout`**)
        - ì¥ë°”êµ¬ë‹ˆì˜ í•­ëª©ë“¤ì„ ì¶œë ¥í•˜ê³  ì´ ê¸ˆì•¡ì„ ê³„ì‚°í•˜ì—¬ ì¶œë ¥ í›„, ê²°ì œê°€ ì™„ë£Œë˜ë©´ ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ì›€
    - **5: ì¬ê³  ê´€ë¦¬** (**`Admin.manageInventory`** - ê´€ë¦¬ì ì „ìš©)
        - ê´€ë¦¬ì ì „ìš© ì˜µì…˜ìœ¼ë¡œ, ì¬ê³  ê´€ë¦¬ ë©”ë‰´ë¥¼ í‘œì‹œ
        - ì¬ê³  ì¶”ê°€, ì¬ê³  ì œê±°, ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸° ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µ
    - **6: ì¢…ë£Œ**
        - í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œ
    - **ê¸°íƒ€**: ìœ íš¨í•˜ì§€ ì•Šì€ ì„ íƒì— ëŒ€í•´ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¶œë ¥

### **4. ì¬ê³  ê´€ë¦¬ (Admin í´ë˜ìŠ¤)**

- **ì¬ê³  ê´€ë¦¬ ë©”ë‰´**:
    - **1: ì¬ê³  ì¶”ê°€** (**`InventoryService.addItemToInventory`**)
        - ìƒˆë¡œìš´ í•­ëª©ì˜ ìœ í˜•, ì´ë¦„, ê°€ê²©, í• ì¸ìœ¨(í•´ë‹¹ë˜ëŠ” ê²½ìš°)ì„ ì…ë ¥ë°›ì•„ ì¬ê³ ì— ì¶”ê°€
    - **2: ì¬ê³  ì œê±°** (**`InventoryService.removeItemFromInventory`**)
        - ì œê±°í•  í•­ëª© ë²ˆí˜¸ë¥¼ ì…ë ¥ë°›ì•„ ì¬ê³ ì—ì„œ ì œê±°
    - **3: ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°**
        - ì¬ê³  ê´€ë¦¬ ë©”ë‰´ë¥¼ ì¢…ë£Œí•˜ê³  ë©”ì¸ ë©”ë‰´ë¡œ ëŒì•„ê°€ê¸°

```java
public class Admin extends User {
    public Admin(String username, String password) {
        super(username, password);
    }

    @Override
    public void loginSuccess() {
        System.out.println(Constants.LOGIN_SUCCESS_ADMIN);
    }

    public void manageInventory(InputService inputService, InventoryService inventoryService) {
        while (true) {
            System.out.println(Constants.INVENTORY_MANAGEMENT_OPTIONS);
            System.out.print(Constants.SELECT_OPTION);
            int choice = inputService.getIntInput();

            switch (choice) {
                case 1:
                    inventoryService.addNewItemToInventory(inputService);
                    break;
                case 2:
                    inventoryService.removeItemFromInventory(inputService);
                    break;
                case 3:
                    return;
                default:
                    System.out.println(Constants.INVALID_CHOICE);
            }
        }
    }
}
```

### **5. ì…ë ¥ ì„œë¹„ìŠ¤ (InputService ì¸í„°í˜ì´ìŠ¤ ë° êµ¬í˜„)**

- **`InputService`** ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì…ë ¥ì„ ì¶”ìƒí™”
- `**InputServiceImpl**`í´ë˜ìŠ¤ëŠ” **`Scanner`**ë¥¼ ì‚¬ìš© ì…ë ¥ì„ ì²˜ë¦¬
- í”„ë¡œê·¸ë¨ ì¢…ë£Œ ì‹œ **`InputServiceImpl.close()`** ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ **`Scanner`** ê°ì²´ë¥¼ ë‹«ì•„ ë¦¬ì†ŒìŠ¤ë¥¼ í•´ì œ

---

## êµ¬í˜„ ê²°ê³¼

### Customer

https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/3b78864d-7045-4f19-a309-73d431004bde

### Admin

https://github.com/jjikky/clothing-shop-java-cli/assets/59151187/80c251ef-fc2c-412d-a878-dce0e3c6ef2e

---

## ìŠ¤ë ˆë“œ ì¶”ê°€

## ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•œ ìœ ì € ë¡œê·¸ êµ¬í˜„

ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•´ì„œ í”„ë¡œê·¸ë¨ì˜ ë©”ì¸ íë¦„ê³¼ ê´€ê³„ì—†ì´ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¡œê·¸ ìƒì„±

**Pos class**

```java
// Pos classì˜ showMenu() ì¤‘ ë©”ë‰´ ì„ íƒ ë¶€ë¶„
switch (choice) {
                case Constants.DISPLAY_INVENTORY:
                    inventoryService.displayInventory();
                    logService.log(String.format(Constants.LOG_USER_VIEWED_INVENTORY, username));
                    break;
                case Constants.ADD_ITEM_TO_CART:
                    cartService.addItemToCart(inputService);
                    logService.log(String.format(Constants.LOG_USER_ADDED_ITEM_TO_CART, username));
                    break;
                case Constants.VIEW_CART:
                    cartService.viewCart();
                    logService.log(String.format(Constants.LOG_USER_VIEWED_CART, username));
                    break;
                case Constants.CHECKOUT:
                    cartService.checkout();
                    logService.log(String.format(Constants.LOG_USER_CHECKED_OUT, username));
                    break;
                case Constants.MANAGE_INVENTORY:
                    if (user instanceof Admin) {
                        ((Admin) user).manageInventory(inputService, inventoryService);
                        logService.log(Constants.LOG_ADMIN_MANAGED_INVENTORY);
                    } else {
                        System.out.println(Constants.EXIT_MESSAGE);
                        logService.log(String.format(Constants.LOG_USER_EXITED, username));
                        return;
                    }
                    break;
                case Constants.EXIT:
                    System.out.println(Constants.EXIT_MESSAGE);
                    logService.log(String.format(Constants.LOG_USER_EXITED, username));
                    return;
                default:
                    System.out.println(Constants.INVALID_CHOICE);
            }
```

### 2. ë¡œê·¸ ì‘ì—… ì²˜ë¦¬

**`ExecutorService`**

- ë¡œê·¸ ì‘ì—…ì„ ê´€ë¦¬í•˜ê³ , í”„ë¡œê·¸ë¨ ì¢…ë£Œ ì‹œ ëª¨ë“  ë¡œê·¸ ì‘ì—…ì´ ì™„ë£Œëœ í›„ ìŠ¤íŠ¸ë¦¼ë‹«ìŒ
- ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•´ì„œ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê³ , ì²˜ë¦¬ê°€ ì™„ë£Œë˜ë©´ í•´ë‹¹ ìŠ¤ë ˆë“œë¥¼ ì œê±°í•˜ëŠ” ì‘ì—…ì— ì´ìš©
- `log(String message)`
    - ë¡œê·¸ ë©”ì„¸ì§€ ê¸°ë¡
    
- `close()`
    - ExecutorService ì¢…ë£Œ í›„ BufferedWriterë¥¼ ë‹«ìŒ
    - ExecutorService ì‘ì—…ì´ 5ì´ˆê°€ ì§€ë‚˜ë„ ì•ˆëë‚˜ë©´ ê°•ì œ ì¢…ë£Œ

**LogService class**

```java
package com.shop.services;

import java.io.BufferedWriter;
import java.io.FileWriter;
import java.io.IOException;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.Executors;
import java.util.concurrent.TimeUnit;

public class LogService {
    private final BufferedWriter writer;
    private final ExecutorService executor;

    public LogService(String logFileName) throws IOException {
        writer = new BufferedWriter(new FileWriter(logFileName, true));
        executor = Executors.newSingleThreadExecutor();
    }

    public void log(String message) {
        executor.submit(() -> {
            try {
                String timeStamp = LocalDateTime.now().format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"));
                writer.write(timeStamp + " - " + message);
                writer.newLine();
                writer.flush();
            } catch (IOException e) {
                e.getStackTrace();
            }
        });
    }

    public void close() {
        executor.shutdown();
        try {
            if (!executor.awaitTermination(5, TimeUnit.SECONDS)) {
                executor.shutdownNow();
            }
            writer.close();
        } catch (IOException | InterruptedException e) {
            e.getStackTrace();
        }
    }
}
```

### ì‹¤í–‰ ê²°ê³¼ ìƒì„±ë˜ëŠ” ë¡œê·¸

**user_activity.log**

```java
2024-05-24 11:58:39 - User [admin] logged in.
2024-05-24 11:58:40 - User  [admin]  viewed inventory
2024-05-24 11:58:46 - User  [admin]  added item to cart
2024-05-24 11:58:48 - User  [admin]  viewed cart
2024-05-24 11:58:49 - User  [admin]  checked out
2024-05-24 11:58:51 - User  [admin]  exited.
2024-05-24 13:36:19 - User [customer] logged in.
2024-05-24 13:36:22 - User  [customer]  viewed inventory
2024-05-24 13:36:26 - User  [customer]  added item to cart
2024-05-24 13:36:28 - User  [customer]  added item to cart
2024-05-24 13:36:29 - User  [customer]  added item to cart
2024-05-24 13:36:31 - User  [customer]  viewed inventory
2024-05-24 13:36:31 - User  [customer]  exited.
```

---

## ìŠ¤ë ˆë“œê°„ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ êµ¬í˜„ 

<aside>
ğŸ’¡ **LogService**ê°€ ë¡œê·¸ë¥¼ ê¸°ë¡í•˜ë©´ **SharedResource**ë¥¼ í†µí•´ **LogMonitorThread**ì—ê²Œ ì•Œë¦¬ê³  ì‚¬ìš©ìì—ê²Œ ì‹¤ì‹œê°„ ì•Œ

</aside>

### LogService

- **`log`** ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ ë¡œê·¸ ë©”ì‹œì§€ë¥¼ íŒŒì¼ì— ê¸°ë¡
- ë¡œê·¸ê°€ ì—…ë°ì´íŠ¸ë˜ë©´ `SharedResource`ì˜ `updateLog` ë©”ì„œë“œë¥¼ í˜¸ì¶œ

```java
 public void log(String message) {
        try {
            executor.submit(() -> {
                try {
                    String timeStamp = LocalDateTime.now().format(DateTimeFormatter.ofPattern("yyyy-MM-dd HH:mm:ss"));
                    writer.write(timeStamp + " - " + message);
                    writer.newLine();
                    writer.flush();
                    sharedResource.updateLog();
                } catch (IOException e) {
                    e.getStackTrace();
                }
            }).get();
        } catch (Exception e) {
            e.getStackTrace();
        }
    }
```

### SharedResource

- `updateLog` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ **`logUpdated`** í”Œë˜ê·¸ë¥¼ **true**ë¡œ ì„¤ì •í•˜ê³  `notify`ë¥¼ í˜¸ì¶œí•˜ì—¬ ëŒ€ê¸° ì¤‘ì¸ ìŠ¤ë ˆë“œë¥¼ ê¹¨ì›€
- `waitForLogUpdate` ë©”ì„œë“œëŠ” `logUpdated` í”Œë˜ê·¸ê°€ `true`ê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸°
    - ì´ ë©”ì„œë“œëŠ” `LogMonitorThread`ì—ì„œ í˜¸ì¶œ

```java
package com.shop.shared;

public class SharedResource {
    private boolean logUpdated = false;

    public synchronized void updateLog() {
        logUpdated = true;
        // wait() ìƒíƒœì—ì„œ ëŒ€ê¸° ì¤‘ì¸ ìŠ¤ë ˆë“œ ì¤‘ í•˜ë‚˜ë¥¼ ê¹¨ì›€
        notify();
    }

    public synchronized void waitForLogUpdate() throws InterruptedException {
        while (!logUpdated) {
            // logUpdatedê°€ trueê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸°
            wait();
        }
        // logUpdated ìƒíƒœë¥¼ ë¦¬ì…‹
        logUpdated = false;
    }
}

```

### **LogMonitorThread**

- `run` ë©”ì„œë“œì—ì„œ ë¬´í•œ ë£¨í”„ë¡œ `waitForLogUpdate`ë¥¼ í˜¸ì¶œí•˜ì—¬ ë¡œê·¸ ì—…ë°ì´íŠ¸ë¥¼ ëŒ€ê¸°
- ë¡œê·¸ê°€ ì—…ë°ì´íŠ¸ë˜ë©´ `SharedResource`ì˜ **`waitForLogUpdate`** ë©”ì„œë“œê°€ ë°˜í™˜ë˜ê³ , ì½˜ì†”ì— ë¡œê·¸ ì—…ë°ì´íŠ¸ ë©”ì‹œì§€ë¥¼ ì¶œë ¥

```java
package com.shop.monitor;

import com.shop.shared.SharedResource;
import com.shop.utils.Constants;

public class LogMonitorThread extends Thread {
    private final SharedResource sharedResource;

    public LogMonitorThread(SharedResource sharedResource) {
        this.sharedResource = sharedResource;
    }

    @Override
    public void run() {
        while (true) {
            try {
                sharedResource.waitForLogUpdate();
                System.out.println(Constants.LOG_EMPTY);
                System.out.println(Constants.LOG_UPDATE_NOTIFY);
                System.out.println(Constants.LOG_EMPTY);
            } catch (InterruptedException e) {
                e.getStackTrace();
            }
        }
    }
}

```

### Main

```java
package com.shop;

import com.shop.monitor.LogMonitorThread;
import com.shop.pos.Pos;
import com.shop.services.*;
import com.shop.shared.SharedResource;
import com.shop.user.User;
import com.shop.utils.Constants;
import com.shop.utils.InputServiceImpl;
import com.shop.managers.InventoryManager;
import com.shop.managers.CartManager;
import com.shop.managers.UserManager;

import java.io.IOException;

public class Main {
    public static void main(String[] args) {
        Constants.printKcsShopArt();

        InputServiceImpl inputService = new InputServiceImpl();
        InventoryManager inventoryManager = new InventoryManager();
        CartManager cartManager = new CartManager();
        UserManager userManager = new UserManager();

        InventoryService inventoryService = new InventoryServiceImpl(inventoryManager);
        CartService cartService = new CartServiceImpl(cartManager, inventoryManager);
        UserService userService = new UserServiceImpl(userManager);

        SharedResource sharedResource = new SharedResource();

        LogService logService;
        try {
            logService = new LogService(Constants.USER_LOG_FILE_NAME,sharedResource);
        } catch (IOException e) {
            e.getStackTrace();
            return;
        }

        LogMonitorThread logMonitorThread = new LogMonitorThread(sharedResource);
        logMonitorThread.start();

        Pos pos = new Pos(inputService, inventoryService, cartService, userService,logService);

        User user;
        do {
            user = pos.login();
        } while (user == null);
        pos.showMenu(user);

        inputService.close();
        logService.close();
    }
}

```

### êµ¬í˜„ ê²°ê³¼



https://github.com/jjikky/5-jikky-kim-java-cli/assets/59151187/3a341c18-c2d7-4df3-9b04-e2f2aa8bef47



- ê´€ë¦¬ì ë©”ë‰´ë¥¼ ì œì™¸í•œ ëª¨ë“  ë©”ë‰´ë¥¼ ì„ íƒì‹œ `LogService`ì—ì„œ ìŠ¤ë ˆë“œë¥¼ ì´ìš©í•´ íŒŒì¼ì— ë¡œê·¸ë¥¼ ê¸°ë¡í•©ë‹ˆë‹¤.
- ë¡œê·¸ê°€ ì—…ë°ì´íŠ¸ë˜ë©´ `SharedResource`ì˜ `updateLog` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ë¡œê·¸ê°€ ì—…ë°ì´íŠ¸ ë˜ì—ˆìŒì„ `LogMonitorThread`ì— ì•Œë¦½ë‹ˆë‹¤.
- ë¡œê·¸ê°€ ì—…ë°ì´íŠ¸ ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆë‹¤ê°€ LogMonitorThreadê°€ ì—…ë°ì´íŠ¸ ë¨ì„ ê°ì§€í•˜ë©´, ì½˜ì†”ì—  ğŸ“¢`Log updated. Monitor thread notified.`ğŸ“¢ ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.


ì‹œì—° ì˜ìƒ ê²°ê³¼ ìƒì„±ëœ ë¡œê·¸

```java
2024-05-24 23:11:24 - User [admin] logged in.
2024-05-24 23:11:26 - User [admin] viewed inventory.
2024-05-24 23:11:33 - User [admin] added item to cart.
2024-05-24 23:11:37 - User [admin] added item to cart.
2024-05-24 23:11:43 - User [admin] viewed cart.
2024-05-24 23:11:48 - User [admin] checked out.
2024-05-24 23:12:09 - Admin managed inventory.
2024-05-24 23:12:11 - User [admin] viewed inventory.
2024-05-24 23:12:24 - Admin managed inventory.
2024-05-24 23:12:29 - User [admin] viewed inventory.
2024-05-24 23:12:33 - User [admin] exited.
```
